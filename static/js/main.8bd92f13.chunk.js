(this["webpackJsonpyalantis-test-task"]=this["webpackJsonpyalantis-test-task"]||[]).push([[0],{74:function(e,t,a){"use strict";a.r(t);var n,r,s,c,i,o,l,p=a(19),d=a(13),m=a(41),j=a(5),b=a(0),y=function(){return Object(d.b)()},u=d.c,O=a(22),f=a.n(O),h=a(35),x=a(16),v=a(36),g=a(37),E=a.n(g),N=new function e(){Object(v.a)(this,e),this.getEmployees=function(){return E.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return e.data}))}},S=Object(x.b)("employees/getEmployees",Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=N.getEmployees(),e.next=3,t;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))),I=Object(x.c)({name:"employees",initialState:{employees:[],selectedEmployees:[],error:"",status:""},reducers:{addEmployee:function(e,t){e.selectedEmployees.push(t.payload),localStorage.setItem("selectedEmployees",JSON.stringify(e.selectedEmployees))},removeEmployee:function(e,t){e.selectedEmployees=e.selectedEmployees.filter((function(e){return!e.id.includes(t.payload)})),localStorage.setItem("selectedEmployees",JSON.stringify(e.selectedEmployees))}},extraReducers:function(e){e.addCase(S.pending,(function(e){e.status="loading"})),e.addCase(S.fulfilled,(function(e,t){var a=t.payload;e.status="resolved",e.employees=a,e.selectedEmployees=JSON.parse(localStorage.getItem("selectedEmployees")||"[]")})),e.addCase(S.rejected,(function(e){e.status="rejected",e.error="Failed load data"}))}}),M=I.actions,k=M.addEmployee,B=M.removeEmployee,L=I.reducer,W=a(43),w=a(3),C=a(4),F=C.b.div(n||(n=Object(w.a)([""])));F.displayName="EmployeeItemWrapper";var J=Object(C.b)("h3")(r||(r=Object(w.a)(["\n  color: ",";\n"])),(function(e){return e.active?"#0d6efd;":"#000;"}));J.displayName="EmployeeName";var Y=C.b.div(s||(s=Object(w.a)([""])));Y.displayName="EmployeeBtnGroup";var T=C.b.div(c||(c=Object(w.a)([""])));T.displayName="EmployeeNotActiveWrapper";var A=C.b.div(i||(i=Object(w.a)([""])));A.displayName="EmployeeActiveWrapper";var G=C.b.input(o||(o=Object(w.a)(["\n  cursor: pointer;\n"])));G.displayName="EmployeeInput";var R=C.b.label(l||(l=Object(w.a)(["\n  margin-left: 10px;\n  cursor: pointer;\n"])));R.displayName="EmployeeLabel";var z,D=a(1),U=function(e){var t=e.employee,a=Object(b.useState)(!1),n=Object(W.a)(a,2),r=n[0],s=n[1],c=y(),i=function(e){s(!r),r?(c(B(t.id)),localStorage.setItem(t.id,e.target.value)):(c(k(t)),localStorage.setItem(t.id,e.target.value))};return Object(b.useEffect)((function(){var e=localStorage.getItem("".concat(t.id));e&&s(JSON.parse(e))}),[t.id]),Object(D.jsxs)(F,{children:[Object(D.jsxs)(J,{active:r,children:[t.firstName," ",t.lastName]}),Object(D.jsxs)(Y,{children:[Object(D.jsxs)(T,{children:[Object(D.jsx)(G,{type:"radio",id:"".concat(t.id,"-not-active"),name:t.firstName,value:"false",checked:!r,onChange:i}),Object(D.jsx)(R,{htmlFor:"".concat(t.id,"-not-active"),children:"not active"})]}),Object(D.jsxs)(A,{children:[Object(D.jsx)(G,{type:"radio",id:"".concat(t.id,"-active"),name:t.firstName,value:"true",checked:r,onChange:i}),Object(D.jsx)(R,{htmlFor:"".concat(t.id,"-active"),children:"active"})]})]})]})},H=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],K=C.b.div(z||(z=Object(w.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, 200px);\n  gap: 1rem;\n  border-right: 2px solid #000;\n  justify-content: center;\n"])));K.displayName="EmployeesListWrapper";var P,Q=function(e){var t=e.char,a=e.employees;return Object(D.jsxs)("div",{children:[Object(D.jsx)("h2",{children:t}),a.length>0?a.map((function(e){return Object(D.jsx)(U,{employee:e},e.id)})):"No employees"]})},V=function(e){var t=e.employees;return Object(D.jsx)(D.Fragment,{children:H.map((function(e,a){return Object(D.jsx)(Q,{char:e,employees:t.filter((function(t){return t.firstName[0]===e}))},a)}))})},X=function(e){var t=e.employees;return Object(D.jsx)(K,{children:Object(D.jsx)(V,{employees:t})})},Z=a(14),q=a.n(Z),$=C.b.li(P||(P=Object(w.a)(["\n  margin: 5px 0;\n  font-weight: 700;\n  font-size: 17px;\n"])));$.displayName="BirthdayItemWrapper";var _,ee,te=function(e){var t=e.employee,a="".concat(t.firstName," ").concat(t.lastName),n="".concat(q()(t.dob).format("D MMMM, YYYY")," year");return Object(D.jsxs)($,{children:[a," - ",n]})},ae=C.b.div(_||(_=Object(w.a)(["\n  display: grid;\n  grid-template-rows: repeat(1, 1fr);\n  gap: 1rem;\n  border-top: 2px solid #000;\n  margin: 0 70px;\n  padding: 15px 0;\n"])));ae.displayName="BirthdayListWrapper";var ne=C.b.h3(ee||(ee=Object(w.a)([""])));ne.displayName="BirthdayListTitle";var re,se=function(e){var t=e.month,a=e.employees.sort((function(e,t){return e.lastName.localeCompare(t.lastName)}));return Object(D.jsxs)("div",{children:[Object(D.jsx)("h2",{children:t}),a.length>0?a.map((function(e){return Object(D.jsx)(te,{employee:e},e.id)})):"No employees"]})},ce=function(e){var t=e.employees,a=q.a.months(),n=q()().month(),r=a.concat(a.slice(0,n)).slice(-12);return Object(D.jsx)(D.Fragment,{children:r.map((function(e,a){return Object(D.jsx)(se,{month:e,employees:t.filter((function(t){return q()(t.dob).format("MMMM")===e}))},a)}))})},ie=function(e){var t=e.selectedEmployees;return Object(D.jsx)(ae,{children:t.length>0?Object(D.jsx)(ce,{employees:t}):Object(D.jsx)(ne,{children:"Employees List is empty"})})},oe=C.b.h2(re||(re=Object(w.a)(["\n  text-align: center;\n  margin-top: 20px;\n"])));oe.displayName="LoaderText";var le,pe=function(){return Object(D.jsx)(oe,{children:"Loading..."})},de=C.b.h2(le||(le=Object(w.a)(["\n  text-align: center;\n  margin-top: 20px;\n"])));de.displayName="ErrorMessage";var me,je,be,ye,ue=function(e){var t=e.message;return Object(D.jsx)(de,{children:t})},Oe=C.b.div(me||(me=Object(w.a)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  padding: 0 30px;\n  margin: 50px 0;\n"])));Oe.displayName="EmployeesWrapper";var fe=C.b.div(je||(je=Object(w.a)([""])));fe.displayName="EmployeesBox",C.b.div(be||(be=Object(w.a)([""]))).displayName="EmployeesBirthday";var he=C.b.h2(ye||(ye=Object(w.a)(["\n  text-align: center;\n  margin-bottom: 25px;\n"])));he.displayName="EmployeesTitle";var xe,ve=function(){var e=y(),t=u((function(e){return e.employees})),a=t.status,n=t.error,r=t.employees,s=t.selectedEmployees;return Object(b.useEffect)((function(){e(S())}),[e]),"loading"===a?Object(D.jsx)(pe,{}):n?Object(D.jsx)(ue,{message:n}):Object(D.jsxs)(Oe,{children:[Object(D.jsxs)(fe,{children:[Object(D.jsx)(he,{children:"Employees"}),Object(D.jsx)(X,{employees:r})]}),Object(D.jsxs)(fe,{children:[Object(D.jsx)(he,{children:"Employees birthday"}),Object(D.jsx)(ie,{selectedEmployees:s})]})]})},ge=Object(x.a)({reducer:{employees:L}}),Ee=Object(C.a)(xe||(xe=Object(w.a)(['\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: \n      -apple-system,BlinkMacSystemFont,\n      "Segoe UI",\n      "Roboto", \n      sans-serif;\n  }\n'])));Ee.displayName="GlobalStyles",Object(p.render)(Object(D.jsx)(m.a,{children:Object(D.jsxs)(d.a,{store:ge,children:[Object(D.jsx)(Ee,{}),Object(D.jsxs)(j.d,{children:[Object(D.jsx)(j.b,{path:"/employees",component:ve}),Object(D.jsx)(j.a,{to:"/employees"})]})]})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.8bd92f13.chunk.js.map